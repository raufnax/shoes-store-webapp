<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: sans-serif; padding: 20px; background: #f9f9f9; }
    h1 { text-align: center; }
    form { max-width: 400px; margin: 0 auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    label { display: block; margin-top: 15px; }
    input, select, textarea {
      width: 100%; padding: 10px; margin-top: 5px;
      border: 1px solid #ccc; border-radius: 5px;
    }
    button {
      margin-top: 20px; width: 100%;
      padding: 10px; background: #4CAF50;
      color: white; border: none; border-radius: 5px;
      cursor: pointer;
    }
    button:hover { background: #45a049; }
  </style>
</head>
<body>
  <h1>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h1>
  <form id="order-form">
    <p id="product-name"></p>

    <label for="size">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä</label>
    <select id="size" name="size" required></select>

    <label for="address">–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏</label>
    <input type="text" id="address" name="address" required>

    <label for="comment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
    <textarea id="comment" name="comment"></textarea>

    <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
  </form>

  <script>
    const params = new URLSearchParams(window.location.search);
    const product = params.get('product') || '–¢–æ–≤–∞—Ä';
    const brand = params.get('brand') || '';
    const category = params.get('category') || '';
    const sizes = (params.get('sizes') || '').split('|');

    document.getElementById('product-name').textContent = –í—ã –∑–∞–∫–∞–∑—ã–≤–∞–µ—Ç–µ: ${brand} ${product};

    const sizeSelect = document.getElementById('size');
    const defaultOption = document.createElement('option');
    defaultOption.value = '';
    defaultOption.textContent = '‚Äî';
    sizeSelect.appendChild(defaultOption);

    sizes.forEach(size => {
      const option = document.createElement('option');
      option.value = size;
      option.textContent = size;
      sizeSelect.appendChild(option);
    });

    document.getElementById('order-form').addEventListener('submit', function(e) {
      e.preventDefault();

      const size = document.getElementById('size').value;
      const address = document.getElementById('address').value;
      const comment = document.getElementById('comment').value;

      const message = `
üõí –ù–æ–≤—ã–π –∑–∞–∫–∞–∑:
–¢–æ–≤–∞—Ä: ${brand} ${product}
–†–∞–∑–º–µ—Ä: ${size}
–ê–¥—Ä–µ—Å: ${address}
–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: ${comment}
–ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${category}
`;

      if (window.Telegram.WebApp) {
        Telegram.WebApp.sendData(message);
        Telegram.WebApp.close();
      } else {
        alert("Telegram WebApp API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Telegram.");
      }
    });
  </script>
</body>
</html>